function setupScrollInteractions(){function e(){window.scrollY>50?t.classList.add("scrolled"):t.classList.remove("scrolled"),o.forEach(e=>{const t=e.getBoundingClientRect().top,o=window.innerHeight;t<.8*o&&e.classList.add("visible")})}const t=document.querySelector("header"),o=document.querySelectorAll(".fade-in-on-scroll");window.addEventListener("scroll",e),e()}function setupScrollToTopButton(){const e=document.createElement("button");e.classList.add("scroll-to-top"),e.innerHTML="&#9650;",document.body.appendChild(e),window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function setupFormValidation(){const e=document.querySelector("#form-cadastro");if(!e)return;const t=e.querySelectorAll("[required]");t.forEach(e=>{e.addEventListener("blur",()=>validateField(e))}),e.addEventListener("submit",function(o){o.preventDefault();let r=!0;t.forEach(e=>{validateField(e)||(r=!1)});const n=e.querySelector("#cpf");if(n.validity.valid){const e=validaCPF(n.value);e||(showError(n,"CPF inválido (dígito verificador não confere)."),r=!1)}r&&(alert("Obrigado por participar! Seu cadastro foi recebido."),e.reset(),t.forEach(e=>{e.style.borderColor="#ccc";const t=document.querySelector(`#${e.id}-error`);t&&(t.textContent="",t.classList.remove("visible"))}))})}function validateField(e){if(e.validity.valid)return showSuccess(e),!0;{const t=e.getAttribute("title")||"Este campo é obrigatório.";return showError(e,t),!1}}function showError(e,t){const o=document.querySelector(`#${e.id}-error`);o&&(o.textContent=t,o.classList.add("visible")),e.style.borderColor="var(--cor-erro)"}function showSuccess(e){const t=document.querySelector(`#${e.id}-error`);t&&(t.textContent="",t.classList.remove("visible")),e.style.borderColor="var(--cor-sucesso)"}function validaCPF(e){if(e=e.replace(/[^\d]+/g,""),""==e||11!=e.length||/^(\d)\1+$/.test(e))return!1;let t,o=0;for(let t=0;t<9;t++)o+=parseInt(e.charAt(t))*(10-t);if(t=11-o%11,10!=t&&11!=t||(t=0),t!=parseInt(e.charAt(9)))return!1;o=0;for(let t=0;t<10;t++)o+=parseInt(e.charAt(t))*(11-t);return t=11-o%11,10!=t&&11!=t||(t=0),t==parseInt(e.charAt(10))}document.addEventListener("DOMContentLoaded",function(){setupScrollInteractions(),setupFormValidation(),setupScrollToTopButton()});